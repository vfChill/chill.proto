<!DOCTYPE html>
<html lang="en" >
  <head>
   <meta charset="utf-8">
     <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdn.gitcdn.link/cdn/angular/bower-material/v1.1.0-rc.5/angular-material.css"/>

  
    <style>
      div {
        border: none;
      }


      .box3, .box2, .box1 {  
        display:flex;
        box-sizing: border-box;
        min-width:100%;
      }

      .box1 {  
        max-height:70%;
        flex:1 1 70%;
      }

      .box2 {
        height:20px;  
      }

      .box3 {  
        height:30%;
        max-height:30%;
        flex:1 1 30%;
      }


    </style>
     <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-animate.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-route.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-aria.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-messages.min.js"></script>
    <script src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/t-114/svg-assets-cache.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-aria.min.js"></script>
    <script src="https://cdn.gitcdn.link/cdn/angular/bower-material/v1.1.0-rc.5/angular-material.js"></script>

    <script >
       var chillModule =angular
        .module('MyApp',['ngMaterial', 'ngMessages', 'material.svgAssetsCache'])
        .controller('DemoCtrl', function($scope) {
        $scope.user = {
          name: 'chill qq',
          email: '',
          phone: '',
          dependant: 4,
          loan: 20000,
          salary: 3600,
          rent: 700,
          otherPayments: 350,
          minTerm: 1,
          maxTerm: 3,
          repayments: 0,
          monthlyPayment: 0
          
        }
        $scope.childBenefit = function(dependants){
          return (dependants*140);
        }
         //Minimum and Maximum Loan Terms by Loan value
        $scope.calculateTerms = function(user){
          var loanValue = $scope.user.loan;
          if(loanValue>=1500 && loanValue<=4999){ 
            $scope.user.minTerm = 1; 
            $scope.user.maxTerm = 3; 
            $scope.user.rate = 12.5;
          }else if(loanValue>=5000 && loanValue<=14999){ 
            $scope.user.minTerm = 1; 
            $scope.user.maxTerm = 5;
            $scope.user.rate = 10.9;
          }else if(loanValue>=15000 && loanValue<=60000){ 
            $scope.user.minTerm = 1; 
            $scope.user.maxTerm = 7;
            $scope.user.rate = 7.5;
          }
          $scope.repayments = function(user){
            $scope.user.repayments =  user.rent + user.otherPayments;
          }
          
          $scope.month = function(user){
            var decimalRate = ((user.rate / 100)/12);
                        
            $scope.user.term = (Math.log((decimalRate/((user.monthlyPayment/user.loan)-decimalRate))+1)/Math.log(1+decimalRate))/12;
          }
          $scope.monthlyPayment = function(user){
            var decimalRate = ((user.rate / 100)/12);
            var months = (user.maxTerm * 12);

            $scope.user.monthlyPayment = ( decimalRate + (decimalRate / ( Math.pow((1+decimalRate), months) -1)) ) * user.loan;
          }
        }  
      });
    </script>

  </head>  
<body ng-app="MyApp" ng-cloak layout="column" ng-controller="DemoCtrl">

  <md-toolbar>
    Chill proto
  </md-toolbar>
  <div flex layout="row">
    <md-sidenav flex="15" md-is-locked-open="true" class="md-whiteframe-z1" layout-padding>
      <md-content>
        <div flex="100">
        <div>LOAN  {{user.loan | currency:'€'}}</div> 
          <md-slider flex min="1000" max="60000" ng-model="user.loan" aria-label="loan" id="loan-slider"  >
          </md-slider>
            
            </md-input-container>
          </md-slider-container>
        </div>
        <div flex="100">
        <div>SALARY {{user.salary | currency:"€"}}</div>
          <md-slider-container>
            
            <md-slider flex min="1" max="60000" ng-model="user.salary" aria-label="salary" id="salary-slider">
            </md-slider>
            
          </md-slider-container>
        </div>
        <div flex="100">
        <div>DEPENDATS {{user.dependant }}</div>
          <md-slider-container>
            
            <md-slider flex min="0" max="10" ng-model="user.dependant" aria-label="dependant" id="dependant-slider">
            </md-slider>
            
          </md-slider-container>
        </div>
        <div flex="100">
        <div>RENT {{user.rent | currency:'€'}}</div>
          <md-slider-container>
            
            <md-slider flex min="100" max="10000" ng-model="user.rent" aria-label="rent" id="rent-slider">
            </md-slider>
           
          </md-slider-container>
        </div>
        <div flex="100">
        <div>Other {{user.otherPayments | currency:'€'}}</div>
          <md-slider-container>
            <md-slider flex min="100" max="10000" ng-model="user.otherPayments" aria-label="otherPayments" id="otherPayments-slider">
            </md-slider>
           
          </md-slider-container>
        </div>
        <div flex="100">
        <div>Repayments {{user.monthlyPayment | currency:'€'}}</div>
          <md-slider-container>
            <md-slider flex min="100" max="3000" ng-model="user.monthlyPayment" aria-label="monthlyPayment" id="monthlyPayment-slider">
            </md-slider>
           
          </md-slider-container>
        </div>
        <div flex="100">
        <div>Term {{user.term | number:0 }}</div>
          <md-slider-container>
            <md-slider flex min="1" max="7" ng-model="user.term" aria-label="term" id="term-slider">
            </md-slider>
           
          </md-slider-container>
        </div>
      </md-content>
    </md-sidenav>
    <div layout="column" flex >
      <md-list flex>
        <md-list-item class="md-3-line"  ng-click="null">
          <img ng-src="" class="md-avatar" alt="" />
          <div class="md-list-item-text" layout="column">
            <h3>Loan: </h3>
            <h4>{{loan(user) }}{{user.loan | currency:'€'}}</h4>
            <p>C</p>
          </div>
        </md-list-item>
        <md-list-item class="md-3-line"  ng-click="null">
          <img ng-src="" class="md-avatar" alt="" />
          <div class="md-list-item-text" layout="column">
            <h3>Child Benefit: </h3>
            <h4>{{childBenefit(user.dependant ) | currency:'€'}}</h4>
            <p>C</p>
          </div>
        </md-list-item>
        <md-list-item class="md-3-line"  ng-click="null">
          <img ng-src="" class="md-avatar" alt="" />
          <div class="md-list-item-text" layout="column">
            <h3>Rate:</h3>
            <h4>{{calculateTerms(user) }}{{user.rate +"%"}}</h4>
            <p>C</p>
          </div>
        </md-list-item>
        <md-list-item class="md-3-line"  ng-click="null">
          <img ng-src="" class="md-avatar" alt="" />
          <div class="md-list-item-text" layout="column">
            <h3>Repayments:</h3>
            <h4>{{monthlyPayment(user) }}{{user.monthlyPayment | currency:'€'}}</h4>
            <p>C</p>
          </div>
        </md-list-item>
        <md-list-item class="md-3-line"  ng-click="null">
          <img ng-src="" class="md-avatar" alt="" />
          <div class="md-list-item-text" layout="column">
            <h3>Term:</h3>
            <h4>{{month(user) }}{{user.term | number:0}}</h4>
            <p>C</p>
          </div>
        </md-list-item>
      </md-list>
      <div class="box1" flex="100">
        <div>
          <h1></h1>
        </div>
        <div>
          <h1> </h1>
        </div>
      </div>
      <div class="box2">
        fixed
      </div>
      <div class="box3">
        flex
      </div>
    </div>

  </div>
  </body>
</html>